<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>Scientific Calculator fx-991EX Clone</title>
    <link rel="stylesheet" href="style.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/12.4.1/math.js"></script>
</head>
<body>
<div class="calculator">
    <div class="tabs">
        <button class="tab-btn active" onclick="openTab('math', event)">Math</button>
        <button class="tab-btn" onclick="openTab('matrix', event)">Matrix</button>
        <button class="tab-btn" onclick="openTab('complex', event)">Complex</button>
        <button class="tab-btn" onclick="openTab('stats', event)">Stats</button>
    </div>

    <div id="math" class="tab-content active">
        <div class="topbar">
            <label><input type="checkbox" id="angleToggle" checked onchange="updateMode()"> Degree</label>
            <span class="mode-indicator" id="modeLabel">[DEG]</span>
            <label><input type="checkbox" id="themeToggle" onchange="toggleTheme()"> Dark Mode</label>
            <div class="ctrl-buttons">
                <button onclick="clearDisplay()">C</button>
                <button onclick="backspace()">⌫</button>
            </div>
        </div>

        <input type="text" id="display" disabled />

        <div class="buttons scientific-buttons">
            <button onclick="append('sqrt(')">√</button>
            <button onclick="append('^')">^</button>
            <button onclick="append('sin(')">sin</button>
            <button onclick="append('cos(')">cos</button>
            <button onclick="append('tan(')">tan</button>
            <button onclick="append('log10(')">log</button>
            <button onclick="append('ln(')">ln</button>
            <button onclick="append('(')">(</button>
            <button onclick="append(')')">)</button>
        </div>

        <hr />

        <div class="buttons math-buttons">
            <button onclick="append('7')">7</button>
            <button onclick="append('8')">8</button>
            <button onclick="append('9')">9</button>
            <button onclick="append('/')">÷</button>

            <button onclick="append('4')">4</button>
            <button onclick="append('5')">5</button>
            <button onclick="append('6')">6</button>
            <button onclick="append('*')">×</button>

            <button onclick="append('1')">1</button>
            <button onclick="append('2')">2</button>
            <button onclick="append('3')">3</button>
            <button onclick="append('-')">−</button>

            <button onclick="append('0')">0</button>
            <button onclick="append('.')">.</button>
            <button onclick="append('+')">+</button>
            <button onclick="append('pi')">π</button>
            <button onclick="append('e')">e</button>
            <button onclick="calculate()">=</button>
        </div>

        <div class="history" id="historyBox"><strong>History:</strong></div>
    </div>

<!-- In index.html, replace the Matrix tab placeholder with this: -->

<div id="matrix" class="tab-content">
    <div class="matrix-mode">
        <label>Rows: <input id="rows" type="number" value="2" min="1" max="5"></label>
        <label>Cols: <input id="cols" type="number" value="2" min="1" max="5"></label>
        <button onclick="createMatrixInputs()">Set size</button>
        <div class="matrix-container">
            <div>
                <h4>Matrix A</h4>
                <div id="matrixA"></div>
            </div>
            <div>
                <h4>Matrix B</h4>
                <div id="matrixB"></div>
            </div>
        </div>
        <label>Operation:
            <select id="matrixOp">
                <option value="add">Add A + B</option>
                <option value="multiply">Multiply A × B</option>
                <option value="det">Determinant of A</option>
                <option value="inv">Inverse of A</option>
            </select>
        </label>
        <button onclick="computeMatrix()">Compute</button>
        <h4>Result:</h4>
        <pre id="matrixResult"></pre>
    </div>
</div>

    <div id="complex" class="tab-content"><p>Complex number support coming soon...</p></div>
    <div id="stats" class="tab-content"><p>Statistical functions coming soon...</p></div>
</div>

<script src="script.js"></script>
</body>
</html>
